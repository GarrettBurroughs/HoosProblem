{"version":3,"sources":["components/Header.tsx","components/Post.tsx","components/PostInput.tsx","components/Homepage.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["StyledHeader","styled","div","Header","StyledPost","StyledAvatar","img","StyledPostHeader","StyledDate","StyledPostContent","Post","postContent","postTime","React","avatarKey","setAvatarKey","key","crypto","createHash","update","digest","e","console","error","date","src","alt","Date","getHours","getMinutes","getMonth","getDate","getFullYear","StyledPostInput","StyledTextarea","textarea","StyledButton","button","PostInput","db","textAreaContent","setTextAreaContent","textRef","ref","placeholder","onChange","target","value","onClick","event","preventDefault","log","alert","postCollection","collection","ts","Timestamp","now","addDoc","time","upvotes","current","innerText","StyledGrid","StyledContentArea","spinnerAnimation","keyframes","Spinner","Homepage","setDb","posts","setPosts","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getFirestore","postsCol","onSnapshot","col","forEach","doc","data","push","sort","a","b","seconds","map","p","i","App","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e04d591d.chunk.js","sourcesContent":["import * as React from 'react';\nimport styled from 'styled-components';\n\nconst StyledHeader = styled.div`\n    position: fixed;\n    top: 0;\n    left: 0;\n    display: flex;\n    background-color: var(--uva-orange);\n    color: var(--uva-blue);\n    font-family: var(--header-text);\n    font-size: 34px;\n    font-weight: bold; \n    width: 100%;\n    height: 70px;\n    align-items: center;\n    justify-content: center;\n    z-index: 2;\n\n`; \n\nconst Header: React.FunctionComponent = () => {\n    return (\n        <StyledHeader>\n            Hoos Problem\n        </StyledHeader>\n    );\n}\n\nexport default Header;","import * as React from 'react';\nimport styled from 'styled-components';\nimport crypto from 'crypto';\n\ninterface PostProps{\n    postContent: string; \n    postTime: number; \n}\n\nconst StyledPost = styled.div`\n    width: 60%;\n    @media only screen and (max-width: 700px){\n        width: 90%;\n    }\n    border-radius: 10px;\n    box-shadow: 0px 0px 2px grey;\n    margin: auto;\n    margin-top: 20px;\n    margin-bottom: 20px;\n    overflow: hidden;\n    text-align: left;\n    \n`\nconst StyledAvatar = styled.img`\n    border-radius: 100px;\n    width: 50px;\n    height: 50px;\n    background-color: #EEEEEE;\n    margin-left: 30px;\n    margin-top: 5px;\n`\n\nconst StyledPostHeader = styled.div`\n    width: 100%;\n    background-color: var(--uva-orange);\n    height: 20px;\n`\n\nconst StyledDate = styled.div`\n    display: inline-block;\n    & p {\n        transform: translate(10%, -75%)\n    }\n`;\n\nconst StyledPostContent = styled.div`\n    margin-left: 53px;\n    border-left: 5px solid rgba(35, 45, 75, .5);\n    padding-left: 3px;\n    margin-bottom: 15px;\n`;\n\n\n\nconst Post: React.FunctionComponent<PostProps> = ({ postContent, postTime }) => {\n    const [avatarKey, setAvatarKey] = React.useState<string>(\"\");\n    React.useEffect(() => {\n        let key = \"\";\n        try {\n            key = crypto.createHash('md5').update(postContent).digest('hex');\n        } catch (e) {\n            console.error(`post content hash error: ${postContent}`);\n            console.error(e);\n            key = \"\";\n        }\n        setAvatarKey(key);\n    }, [postContent])\n\n    const formatDate = (date: Date) => {\n        return `${date.getHours()}:${date.getMinutes()} on ${date.getMonth() + 1}/${date.getDate()}/${date.getFullYear()}`;\n    }\n\n    return (\n        <StyledPost>\n            <StyledPostHeader></StyledPostHeader>\n            <StyledAvatar src={`https://avatars.dicebear.com/api/bottts/${avatarKey}.svg`} alt=\"Randomly generated user robot avatar\"></StyledAvatar>\n            <StyledDate>\n                <p>At {formatDate(new Date(postTime * 1000))}</p>\n            </StyledDate>\n            <StyledPostContent>\n                {postContent}\n            </StyledPostContent>\n        </StyledPost>\n    );\n}\n\nexport default Post;","import { Firestore, addDoc, collection, Timestamp } from 'firebase/firestore';\nimport * as React from 'react';\nimport styled from 'styled-components';\n\ninterface PostInputProps{\n    db?: Firestore;\n}\n\n\nconst StyledPostInput = styled.div`\n    width: 60%;\n    @media only screen and (max-width: 700px){\n        width: 90%;\n    }\n    border-radius: 10px;\n    box-shadow: 0px 0px 2px grey;\n    margin: auto;\n    margin-top: 20px;\n    margin-bottom: 20px;\n    overflow: hidden;\n    text-align: left;\n    position: relative; \n`\n\nconst StyledTextarea = styled.textarea`\n    width: 90%;\n    margin-right: 5%;\n    margin-left: 5%;\n    margin-top: 15px;\n    height: 70px;\n    border: none;\n    font-family: var(--body-text);\n    outline: none;\n    resize: none;\n    font-size: 18px;\n`;\n\nconst StyledButton = styled.button`\n    border: none;\n    font-family: var(--header-text);\n    color: var(--uva-blue);\n    background-color: var(--uva-orange);\n    border-radius: 10px;\n    height: 40px;\n    width: 70px;\n    font-size: 24px;\n    position: absolute;\n    right: 10px;\n    bottom: 10px;\n\n    &:hover {\n        box-shadow: 0px 0px 3px 0px var(--uva-blue);\n    }\n    \n    &:active {\n        border: 1px inset black; \n    }\n`;\nconst PostInput: React.FunctionComponent<PostInputProps> = ({ db }) => {\n    const [textAreaContent, setTextAreaContent] = React.useState<string>();\n    const textRef = React.useRef<HTMLTextAreaElement>(null);\n\n    const handleInput: React.MouseEventHandler = (event: React.MouseEvent) => {\n        event.preventDefault();\n        console.log(textAreaContent);\n        if (db) {\n            if (!textAreaContent) {\n                alert(\"Post must contain content\");\n                return; \n            }\n            const postCollection = collection(db, 'posts');\n            const ts = new Timestamp(Date.now()/1000, 0);\n            addDoc(postCollection, {\n                postContent: textAreaContent,\n                time: ts,\n                upvotes: 0\n            });\n            setTextAreaContent(\"\");\n            if (textRef.current) {\n                textRef.current.innerText = \"\";\n                textRef.current.value = \"\";\n            }\n            console.log('post created');\n        } else {\n            console.log('not connected to database');\n        }\n    }\n    \n    return (\n        <StyledPostInput>\n            <StyledTextarea ref={textRef} placeholder=\"Have a problem?\" onChange={(e) => {setTextAreaContent(e.target.value)}}></StyledTextarea>\n            <StyledButton onClick={handleInput}>Post!</StyledButton>\n        </StyledPostInput>\n    );\n}\n\nexport default PostInput;","import * as React from 'react';\nimport styled, {keyframes} from 'styled-components';\nimport Header from './Header';\nimport Post from './Post';\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, Firestore, onSnapshot } from 'firebase/firestore';\nimport PostInput from './PostInput';\n\n\n\ninterface IPost {\n    postContent: string;\n    time: {\n        seconds: number;\n        nanoseconds: number; \n    }\n}\n\n\nconst StyledGrid = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 80% 1fr;\n    @media only screen and (max-width: 700px){\n        grid-template-columns: 1fr 95% 1fr;\n    }\n`;\n\nconst StyledContentArea = styled.div`\n    grid-column: 2;\n    /*box-shadow: 0px 0px 5px #888888;*/\n    margin-top: 100px;\n    border-radius: 3px;\n`;\n\nconst spinnerAnimation = keyframes`\n    0% { transform: rotate(0deg); }\n    75% { transform: rotate(280deg); }\n    100% { transform: rotate(360deg); }\n`;\n\nconst Spinner = styled.div`\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    border: solid 10px var(--uva-orange);\n    border-bottom-color: var(--uva-blue);\n    animation: 1s linear infinite ${spinnerAnimation};\n    margin: auto;\n`;\n\n\n\nconst Homepage: React.FunctionComponent = () => {\n    const [db, setDb] = React.useState<Firestore>();\n    const [posts, setPosts] = React.useState<IPost[]>();\n\n    React.useEffect(() => {\n        const firebaseConfig = {\n            apiKey: \"AIzaSyCLrzhIG7ld1Q5qCVIRPP1P6j9DHNsXL7A\",\n            authDomain: \"hoosproblem.firebaseapp.com\",\n            projectId: \"hoosproblem\",\n            storageBucket: \"hoosproblem.appspot.com\",\n            messagingSenderId: \"448797692895\",\n            appId: \"1:448797692895:web:b8ebcd0cb0740bc105aa6a\",\n            measurementId: \"G-C1CFQGDTVN\"\n        };\n\n        // Initialize Firebase\n        initializeApp(firebaseConfig);\n        const db = getFirestore();\n        setDb(db);\n\n        const postsCol = collection(db, 'posts');\n\n        onSnapshot(postsCol, (col) => {\n            const posts: IPost[] = [];\n\n            col.forEach(doc => {\n                const data = doc.data();\n                posts.push({\n                    postContent: data.postContent,\n                    time: data.time\n                });\n            });\n\n            setPosts(posts);\n\n        });\n    }, []);\n\n    const comparePosts: (a: IPost, b: IPost) => number = (a, b) => {\n        return b.time.seconds - a.time.seconds;\n    }\n    \n    return (\n        <div>\n            <Header></Header>\n            <StyledGrid>\n                <StyledContentArea>\n                    <PostInput db={db}></PostInput>\n                    {\n                        posts ? posts.sort(comparePosts).map((p, i) => <Post postContent={p.postContent} postTime={p.time.seconds} key={i} />) : <Spinner />\n                    }\n                </StyledContentArea>\n            </StyledGrid>\n            \n            \n        </div>\n    );\n}\n\nexport default Homepage;","import React from 'react';\nimport './App.css';\nimport Homepage from './components/Homepage';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Homepage></Homepage>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}